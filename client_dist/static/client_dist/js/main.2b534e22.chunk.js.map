{"version":3,"sources":["components/Nav.js","components/StandardPanel.js","components/Utils.js","components/LoginRegisterForm.js","components/Map.js","hooks/useData.js","components/AddCampsite.js","components/CampgroundDetail.js","components/CampgroundForm.js","components/AddCampground.js","components/YourReservations.js","components/YourCampgrounds.js","components/EditCampground.js","App.js","index.js"],"names":["Root","styled","nav","Title","h1","Content","div","DatePickerContainer","DateTitle","NavLinks","ul","linkStyles","NavLink","Link","LogoutLink","span","Nav","output","handleLogout","user","useContext","UserContext","DateContext","selectedDate","setSelectedDate","text","username","to","onClick","minDate","Date","selected","onChange","CloseButton","StandardPanel","children","StandardLabel","label","StandardInput","input","StandardTextarea","textarea","StandardSubmitButton","LoginRegisterForm","onSubmit","title","submitButtonText","useState","setUsername","password","setPassword","history","useHistory","useEffect","push","e","htmlFor","type","name","value","target","Leaflet","Icon","Default","imagePath","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","Map","data","undefined","campgrounds","map","id","lat","lng","Marker","position","key","Popup","center","zoom","TileLayer","url","attribution","loading","error","setOutput","fetchData","useCallback","axios","process","then","res","catch","err","console","refetch","AddCampsite","newCampsiteName","setNewCampsiteName","campground_id","callback","preventDefault","method","required","Image","img","Description","p","BookButton","button","SiteReservationBase","AvailabileSite","BookedSite","ReservedSite","cancelReservation","reservation_id","CampgroundsDetail","useParams","useData","campground","image_url","description","phone","campsites","owner","campsiteElms","site","CampsiteRoot","availability","reservation","reservations","find","r","reservationDate","date","getDate","getFullYear","getMonth","camper","campsite_id","camper_id","day","toString","month","pythonDate","bookSite","alert","deleteCampsiteButton","role","aria-label","image","src","alt","addCampsiteForm","href","CampgroundForm","initialData","postFormData","setName","setImageUrl","setDescription","setPhone","setLat","setLng","userId","user_id","placeholder","step","min","max","AddCampground","AppContext","CancelButton","YourReservations","reservationElms","length","EditButton","YourCampgrounds","EditCampground","createContext","noop","App","localStorage","getItem","loggedIn","setLoggedIn","setUser","headers","Authorization","handleLogin","setItem","token","handleRegister","loggedInRoutes","exact","path","component","Provider","removeItem","render","props","CampgroundDetail","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2b534e22.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserContext, DateContext } from '../App';\nimport DatePicker from \"react-datepicker\";\nimport styled from 'styled-components/macro';\n \nimport \"react-datepicker/dist/react-datepicker.css\";\n\n/**\n  Styled Components for the Nav\n**/\nconst Root = styled.nav`\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255);\n  padding: 1rem;\n  border-bottom-left-radius: 8px;\n  box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.34);\n`;\n\nconst Title = styled.h1`\n  margin: 0.55rem 0 0;\n  font-size: 0.9rem;\n  font-weight: 400;\n  text-align: center;\n\n  @media (max-width: 700px) {\n    font-size: 0.85rem;\n    margin: 0.5rem 0 0;\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  @media (max-width: 700px) {\n    flex-direction: column-reverse;\n  }\n`;\n\nconst DatePickerContainer = styled.div`\n  text-align: center;\n  color: #555;\n\n  .react-datepicker-wrapper,\n  input {\n    text-align: center;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  input {\n    padding: 0.25rem;\n    border: none;\n    border-radius: 4px;\n    margin: 5px 0;\n    box-shadow: 0px 0px 2px 0px rgba( 0, 0, 0, 0.3);\n  }\n\n  @media (max-width: 700px) {\n    margin-top: 0.5rem;\n  }\n`;\nconst DateTitle = styled.div`\n  font-size: 0.7rem;\n  text-transform: uppercase;\n`;\n\nconst NavLinks = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style: none;\n  margin: 0 0 0 3rem;\n  padding: 0;\n  text-align: center;\n\n  @media (max-width: 700px) {\n    margin: 0;\n  }\n`;\n\nconst linkStyles = `\n  display: block;\n  margin: 0 0.6rem;\n  text-transform: uppercase;\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-decoration: none;\n  color: #216ba5;\n\n  &:hover {\n    border-bottom: solid 1px #216ba5;\n  }\n\n  @media (max-width: 500px) {\n    font-size: 0.75rem;\n  }\n`;\n\nconst NavLink = styled(Link)`\n  ${linkStyles}\n`;\n\nconst LogoutLink = styled.span`\n  ${linkStyles}\n  cursor: pointer;\n`;\n/**\n  End component styling\n**/\n\n\nfunction Nav({handleLogout}) {\n  const user = useContext(UserContext);\n  const {selectedDate, setSelectedDate} = useContext(DateContext);\n  const text = user && user.username\n    ? <>Welcome to Happy Camper, <strong>{user.username}</strong>.</>\n    : 'Welcome to Happy Camper. Please login or register.';\n\n  let output;\n  if (!user) {\n    output = (\n      <>\n        <li>\n          <NavLink to='/login'>\n            login\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to='/register'>\n            register\n          </NavLink>\n        </li>\n      </>\n    );\n  } else {\n    output = (\n      <>\n        <li>\n          <NavLink to='/reservations'>\n            Your Reservations\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to='/your-campgrounds'>\n            Your Campgrounds\n          </NavLink>\n        </li>\n        <li onClick={handleLogout}>\n          <LogoutLink>\n            logout\n          </LogoutLink>\n        </li>\n      </>\n    );\n  }\n\n  // Don't allow the user to book days in the past\n  const minDate = new Date();\n\n  return (\n    <Root>\n      <Content>\n        <DatePickerContainer>\n          <DateTitle>Looking to go camping on:</DateTitle>\n          <DatePicker\n            selected={selectedDate}\n            onChange={setSelectedDate}\n            minDate={minDate}\n          />\n        </DatePickerContainer>\n        <NavLinks>\n          {output}\n        </NavLinks>\n      </Content>\n      <Title>{text}</Title>\n    </Root>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport {Link} from 'react-router-dom';\n\nconst Root = styled.div`\n  position: absolute;\n  width: 400px;\n  max-width: 100%;\n  height: 800px;\n  max-height: 70vh;\n  box-sizing: border-box;\n  padding: 1rem;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n  left: 0;\n  background-color: #fff;\n  border-top-right-radius: 8px;\n  border-bottom-right-radius: 8px;\n  overflow: auto;\n  box-shadow: 0px 0px 15px 0px rgba(0, 0, 0, 0.34);\n\n  @media (max-width: 700px) {\n    margin-bottom: 0;\n  }\n`;\n\nconst CloseButton = styled(Link)`\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 0.3rem 0.7rem;\n  font-size: 1.35rem;\n  color: #555;\n  text-decoration: none;\n`;\n\n// StandardPanel component that overlays the map and can be closed\n// for a more complete view of the map\nconst StandardPanel = ({children}) => {\n  return (\n    <Root>\n      <CloseButton to={'/'}>×</CloseButton>\n      {children}\n    </Root>\n  );\n}\n\nexport default StandardPanel;\n","import styled from 'styled-components/macro';\n\n// Reusable styled-components\nexport const StandardLabel = styled.label`\n  display: block;\n  margin: 0 0 0.2rem;\n  text-transform: uppercase;\n  font-size: 0.85rem;\n  font-weight: 600;\n  text-decoration: none;\n  color: #555;\n`;\n\nexport const StandardInput = styled.input`\n  padding: 0.25rem;\n  border: none;\n  border-radius: 4px;\n  margin: 0 0 1.25rem;\n  width: 100%;\n  box-shadow: 0px 0px 2px 0px rgba( 0, 0, 0, 0.3);\n`;\n\nexport const StandardTextarea = styled.textarea`\n  padding: 0.25rem;\n  border: none;\n  border-radius: 4px;\n  margin: 0 0 1.25rem;\n  width: 100%;\n  height: 100px;\n  box-shadow: 0px 0px 2px 0px rgba( 0, 0, 0, 0.3);\n`;\n\nexport const StandardSubmitButton = styled.input`\n  background-color: #216ba5;\n  border: none;\n  padding: 0.5rem;\n  text-transform: uppercase;\n  color: #fff;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 0.85rem;\n  cursor: pointer;\n`;\n","import React, {useState, useContext, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport { UserContext } from '../App';\nimport StandardPanel from './StandardPanel';\nimport {\n  StandardLabel,\n  StandardInput,\n  StandardSubmitButton,\n} from './Utils';\n\n// Form component for Logging in or registering\nconst LoginRegisterForm = ({onSubmit, title, submitButtonText}) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const user = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (user) {\n      history.push('/');\n    }\n  }, [user, history])\n\n  return (\n    <StandardPanel>\n      <form onSubmit={e => onSubmit(e, {username, password})}>\n        <h4>{title}</h4>\n        <StandardLabel htmlFor='username'>Username</StandardLabel>\n        <StandardInput\n          type='text'\n          name='username'\n          value={username}\n          onChange={e => setUsername(e.target.value)}\n        />\n        <StandardLabel htmlFor='password'>Password</StandardLabel>\n        <StandardInput\n          type='password'\n          name='password'\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <StandardSubmitButton type='submit' value={submitButtonText} />\n      </form>\n    </StandardPanel>\n  );\n}\n\nexport default LoginRegisterForm;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components/macro';\nimport {\n  Map as LeafletMap,\n  Marker,\n  Popup,\n  TileLayer,\n} from 'react-leaflet';\nimport Leaflet from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Leaflet setup for proper styling\n// https://stackoverflow.com/questions/40365440/react-leaflet-map-not-correctly-displayed\nLeaflet.Icon.Default.imagePath =\n'../node_modules/leaflet'\n\ndelete Leaflet.Icon.Default.prototype._getIconUrl;\n\nLeaflet.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n// End Leaflet setup\n\nconst Root = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  .leaflet-container {\n    width: 100vw;\n    height: 100vh;\n  }\n`;\n\nconst Map = ({data}) => {\n  let output;\n  if (data !== undefined) {\n    // plot the campgrounds on the Leaflet map with their lat/lng coordinates\n    const campgrounds = data.campgrounds.map(({id, name, lat, lng}) => {\n      return (\n        <Marker position={[lat, lng]} key={'marker-' + id + lat + lng}>\n          <Popup>\n            <Link to={`/campground/${id}`}><strong>{name}</strong></Link>\n          </Popup>\n        </Marker>\n      );\n    })\n    output = (\n      <>\n        {campgrounds}\n      </>\n    )\n  } else {\n    output = null;\n  }\n\n  return (\n    <Root>\n      <LeafletMap center={[42.5, -73]} zoom={9}>\n        <TileLayer\n          url=\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\n          attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n        />\n        {output}\n      </LeafletMap>\n    </Root>\n  );\n}\n\nexport default Map;\n","import {useEffect, useState, useCallback} from 'react';\nimport axios from 'axios';\n\n// Custom hook to return the correct state of the data for any GET\n// request. Also returns a refetch function to be used when the data\n// should be updated\n\nexport default ({url}) => {\n  const [output, setOutput] = useState({loading: true, error: undefined, data: undefined});\n\n  // useCallback will allow this function to be updated\n  // everytime the url changes\n  const fetchData = useCallback(() => {\n    axios(process.env.REACT_APP_API_BASE_URL + url)\n      .then(res => {\n        if (res && res.data) {\n          setOutput({\n            loading: false,\n            error: undefined,\n            data: res.data\n          });\n        } else {\n          setOutput({\n            loading: false,\n            error: 'No data',\n            data: undefined\n          });\n        }\n      }).catch(err => {\n        console.error(err);\n        setOutput({\n          loading: false,\n          error: 'Unable to fetch the data',\n          data: undefined\n        });\n      })\n\n    }, [url]);\n\n  // useEffect will call fetchData again everytime\n  // it is updated, which is everytime the url changes\n  useEffect(() => {\n    fetchData();\n  }, [fetchData])\n\n  // this hook will return everytime the state is updated,\n  // which will happen if the url is updated or if refetch\n  // is manually called\n  return {...output, refetch: fetchData};\n}","import React, {useState} from 'react';\nimport axios from 'axios';\nimport {\n  StandardLabel,\n  StandardInput,\n  StandardSubmitButton,\n} from './Utils';\n\nconst addCampsite = (name, campground_id, callback) => {\n  axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/create_campsite',\n      data: {name, campground_id},\n    }).then(res => {\n      if (res && res.data) {\n        callback();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n}\n\n// Form component for adding a campsite to a campground\nconst AddCampsite = ({id, refetch}) => {\n  const [newCampsiteName, setNewCampsiteName] = useState('');\n\n  const onSubmit = e => {\n      e.preventDefault();\n      if (newCampsiteName) {\n        addCampsite(newCampsiteName, id, () => {\n          refetch();\n          setNewCampsiteName('');\n        })\n      }\n    }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <StandardLabel htmlFor={'add-new-campsite-input'}>Add another campsite</StandardLabel>\n      <StandardInput\n        id={'add-new-campsite-input'}\n        type={'text'}\n        value={newCampsiteName}\n        onChange={e => setNewCampsiteName(e.target.value)}\n        required={true}\n      />\n      <StandardSubmitButton type={'submit'} value={'Add Campsite'} />\n    </form>\n  );\n}\n\nexport default AddCampsite;\n","import React, { useContext } from 'react';\nimport { DateContext, UserContext } from '../App';\nimport useData from '../hooks/useData';\nimport {useParams} from 'react-router-dom';\nimport axios from 'axios';\nimport StandardPanel from './StandardPanel';\nimport AddCampsite from './AddCampsite';\nimport styled from 'styled-components/macro';\n\n/**\n  Styled Components for the CampgroundsDetail page\n**/\nconst Image = styled.img`\n  width: 100%;\n`;\n\nconst Description = styled.p`\n  line-height: 1.5;\n  font-size: 0.85rem;\n`;\n\nconst BookButton = styled.button`\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  text-transform: uppercase;\n  font-size: 0.7rem;\n  transition: all 0.2s ease;\n`;\n\nconst SiteReservationBase = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.75rem;\n  font-size: 0.85rem;\n  transition: all 0.2s ease;\n\n  strong {\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n\n  small {\n    display: flex;\n    justify-content: space-between;\n  }\n`;\n\nconst AvailabileSite = styled(SiteReservationBase)`\n  color: blue;\n\n  button {\n    color: blue;\n    border-color: blue;\n  }\n`;\n\nconst BookedSite = styled(SiteReservationBase)`\n  color: red;\n\n  button {\n    color: red;\n    border-color: red;\n  }\n`;\n\nconst ReservedSite = styled(SiteReservationBase)`\n  color: green;\n\n  button {\n    color: green;\n    border-color: green;\n  }\n`;\n\n/**\n  End component styling\n**/\n\n\n/**\n  API Mutation calls for various actions that can be \n  performed on the CampgroundDetail page\n**/\nconst deleteCampsite = (campsite_id, callback) => {\n  axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/delete_campsite',\n      data: {campsite_id},\n    }).then(res => {\n      if (res && res.data) {\n        callback();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n}\n\nconst bookSite = (date, campsite_id, camper_id, callback) => {\n  const day = date.getDate() < 10 ? '0' + date.getDate().toString() : date.getDate();\n  const month = date.getMonth() < 9 ? '0' + (date.getMonth() + 1).toString() : date.getMonth() + 1;\n  const pythonDate = `${date.getFullYear()}-${month}-${day}`;\n  axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/create_booking',\n      data: {date: pythonDate, campsite_id, camper_id},\n    }).then(res => {\n      if (res && res.data) {\n        callback();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n}\n\nexport const cancelReservation = (reservation_id, callback) => {\n  axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/cancel_reservation',\n      data: {reservation_id},\n    }).then(res => {\n      if (res && res.data) {\n        callback();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n}\n/**\n  End API Mutation calls\n**/\n\nconst CampgroundsDetail = () => {\n  // Get the id from the url for target campground\n  const {id} = useParams();\n\n  const {loading, error, data, refetch} = useData({url: '/api/get_campground/' + id});\n\n  const {selectedDate} = useContext(DateContext);\n  const user = useContext(UserContext);\n\n  let output;\n  if (loading) {\n    output = <div>Loading...</div>\n  } else if (error !== undefined) {\n    console.error(error);\n    output = null;\n  } else if (data !== undefined) {\n    const {\n      campground: {name, image_url, description, phone, campsites, owner},\n    } = data;\n    const campsiteElms = campsites.map(site => {\n      // Find a reservation for the current user selected date\n      const reservation = site.reservations.find(r => {\n        // The time must be appended to the returned date in order for the correct\n        // date to be created with the javascript Date class\n        const reservationDate = new Date(r.date + 'T00:00:00');\n        return (selectedDate.getDate() === reservationDate.getDate() &&\n                selectedDate.getFullYear() === reservationDate.getFullYear() &&\n                selectedDate.getMonth() === reservationDate.getMonth())\n      });\n      let CampsiteRoot;\n      let availability;\n      // if there is already a reservation made for a site on the selected day\n      if (reservation) {\n        if (user && (user.id === reservation.camper || user.id === owner)) {\n          const text = user.id === reservation.camper\n            // If it is the current users reservation, let them know and give them\n            // the option to cancel\n            ? 'Reserved! Click to cancel'\n            // If the current user is the owner of the campground, let them know\n            // someone has booked the site. Also give them the option to cancel\n            // the booking\n            : 'Reserved by a user. Click to cancel';\n          const onClick = () => {\n            cancelReservation(reservation.id, refetch);\n          }\n          availability = <BookButton onClick={onClick}>{text}</BookButton>\n          CampsiteRoot = ReservedSite;\n        } else {\n          // If the site is booked but not by the current user and you are not\n          // the campground owner, simply show a message that the site is booked\n          availability = <em>Site is booked for this day</em>\n          CampsiteRoot = BookedSite;\n        }\n      } else {\n        const onClick = () => {\n          // If the user is logged in, book the\n          if (user && user.id) {\n            bookSite(selectedDate, site.id, user.id, refetch);\n          } else {\n            // Otherwise tell them to login\n            alert('Please login or register to book a site');\n          }\n        }\n        availability = <BookButton onClick={onClick}>Book site</BookButton>\n        CampsiteRoot = AvailabileSite;\n      }\n\n      // Allow the owner of the campground to delete campsites\n      const deleteCampsiteButton = user && user.id === owner ? (\n        <BookButton onClick={() => deleteCampsite(site.id, refetch)}>Delete site</BookButton>\n      ) : null;\n\n      return (\n        <CampsiteRoot key={'campsite-' + site.id}>\n          <strong>\n            <span role='img' aria-label='campsite'>⛺</span> {site.name}\n          </strong>\n          <small>{availability} {deleteCampsiteButton}</small>\n        </CampsiteRoot>\n      );\n    })\n\n    // If there is no image_url, don't try to render an image\n    const image = image_url ? <Image src={image_url} alt={name} /> : null;\n\n    // Allow the owner of the campground to add campsites\n    const addCampsiteForm = user && user.id === owner ? (\n      <AddCampsite\n        id={id}\n        refetch={refetch}\n      />\n    ) : null;\n\n    output = (\n      <div>\n        <h3>\n          <span role='img' aria-label='campground'>🏕️</span> {name}\n        </h3>\n        {image}\n        <p>\n          <small>\n            <span role='img' aria-label='phone'>📞</span> <a href={`tel:${phone}`}>{phone}</a>\n          </small>\n        </p>\n        <Description>{description}</Description>\n        <p>\n          <strong>Campsites:</strong>\n        </p>\n        {campsiteElms}\n        {addCampsiteForm}\n      </div>\n    )\n  } else {\n    output = null;\n  }\n\n  return (\n    <StandardPanel>\n      {output}\n    </StandardPanel>\n  );\n}\n\nexport default CampgroundsDetail;\n","import React, { useContext, useState } from 'react';\nimport { UserContext } from '../App';\nimport {\n  StandardLabel,\n  StandardInput,\n  StandardTextarea,\n  StandardSubmitButton,\n} from './Utils';\n\n// Form component for adding or editing a Campground\nconst CampgroundForm = ({initialData, postFormData, submitButtonText}) => {\n  const user = useContext(UserContext);\n\n  const [name, setName] = useState(initialData ? initialData.name : '');\n  const [image_url, setImageUrl] = useState(initialData ? initialData.image_url : '');\n  const [description, setDescription] = useState(initialData ? initialData.description : '');\n  const [phone, setPhone] = useState(initialData ? initialData.phone : '');\n  const [lat, setLat] = useState(initialData ? initialData.lat : '');\n  const [lng, setLng] = useState(initialData ? initialData.lng : '');\n\n  const userId = user && user.id ? user.id : undefined;\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (userId && name && phone && lat && lng) {\n      postFormData({name, image_url, description, phone, lat, lng, user_id: userId});\n    }\n  }\n\n  return (\n      <form onSubmit={onSubmit}>\n        <StandardLabel htmlFor={'add-campground-name'}>Name</StandardLabel>\n        <StandardInput\n          type='text'\n          id={'add-campground-name'}\n          placeholder={'Name'}\n          value={name}\n          onChange={e => setName(e.target.value)}\n          required={true}\n        />\n        <StandardLabel htmlFor={'add-campground-image'}>Image URL</StandardLabel>\n        <StandardInput\n          type='text'\n          id={'add-campground-image'}\n          placeholder={'Image URL'}\n          value={image_url}\n          onChange={e => setImageUrl(e.target.value)}\n        />\n        <StandardLabel htmlFor={'add-campground-description'}>Description</StandardLabel>\n        <StandardTextarea\n          id={'add-campground-description'}\n          placeholder={'Description'}\n          value={description}\n          onChange={e => setDescription(e.target.value)}\n        />\n        <StandardLabel htmlFor={'add-campground-phone'}>Phone</StandardLabel>\n        <StandardInput\n          type='phone'\n          id={'add-campground-phone'}\n          placeholder={'Phone'}\n          value={phone}\n          onChange={e => setPhone(e.target.value)}\n          required={true}\n        />\n        <StandardLabel htmlFor={'add-campground-latitude'}>Latitude</StandardLabel>\n        <StandardInput\n          type='number'\n          id={'add-campground-latitude'}\n          placeholder={'Latitude'}\n          value={lat}\n          onChange={e => setLat(e.target.value)}\n          step={'0.000001'}\n          min={-90}\n          max={90}\n          required={true}\n        />\n        <StandardLabel htmlFor={'add-campground-longitude'}>Longitude</StandardLabel>\n        <StandardInput\n          type='number'\n          id={'add-campground-longitude'}\n          placeholder={'Longitude'}\n          value={lng}\n          onChange={e => setLng(e.target.value)}\n          step={'0.000001'}\n          min={-180}\n          max={180}\n          required={true}\n        />\n        <StandardSubmitButton type='submit' value={submitButtonText} />\n      </form>\n  );\n}\n\nexport default CampgroundForm;\n","import React, { useContext } from 'react';\nimport StandardPanel from './StandardPanel';\nimport CampgroundForm from './CampgroundForm';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { AppContext } from '../App';\n\nconst AddCampground = () => {\n  const history = useHistory();\n  const {refetch} = useContext(AppContext);\n\n  const postFormData = data => {\n    axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/add_campground',\n      data,\n    }).then(res => {\n      if (res && res.data) {\n        history.push('/your-campgrounds');\n        refetch();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n  }\n\n  return (\n    <StandardPanel>\n      <h3>Add Campground</h3>\n      <CampgroundForm postFormData={postFormData} submitButtonText={'Add Campground'} />\n    </StandardPanel>\n  );\n\n}\n\nexport default AddCampground;","import React, { useContext } from 'react';\nimport { UserContext } from '../App';\nimport useData from '../hooks/useData';\nimport {cancelReservation} from './CampgroundDetail';\nimport {Link} from 'react-router-dom';\nimport StandardPanel from './StandardPanel';\nimport styled from 'styled-components/macro';\n\nconst CancelButton = styled.button`\n  margin-top: 0.5rem;\n  border: 1px solid red;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  text-transform: uppercase;\n  font-size: 0.7rem;\n  color: red;\n`;\n\n// List of Reservations made by the current user\nconst YourReservations = () => {\n  const user = useContext(UserContext);\n\n  const userId = user && user.id ? user.id : undefined;\n\n  const {loading, error, data, refetch} = useData({url: '/api/get_users_reservations/' + userId});\n\n  let output;\n  if (loading) {\n    output = <div>Loading...</div>\n  } else if (error !== undefined) {\n    console.error(error);\n    output = null;\n  } else if (data !== undefined) {\n    const { reservations } = data;\n    const reservationElms = reservations.length ? reservations.map(({id, title, campground}) => {\n      return (\n        <p key={id}>\n          <Link to={'/campground/' + campground}><small>{title}</small></Link>\n          <br />\n          <CancelButton onClick={() => cancelReservation(id, refetch)}>Cancel</CancelButton>\n        </p>\n      );\n    }) : (\n      <p>You have not made any reservations</p>\n    );\n    output = (\n      <div>\n        {reservationElms}\n      </div>\n    )\n  } else {\n    output = null;\n  }\n\n  return (\n    <StandardPanel>\n      <h3>Your Reservations</h3>\n      {output}\n    </StandardPanel>\n  );\n\n}\n\nexport default YourReservations;","import React, { useContext } from 'react';\nimport { UserContext } from '../App';\nimport useData from '../hooks/useData';\nimport {Link} from 'react-router-dom';\nimport StandardPanel from './StandardPanel';\nimport styled from 'styled-components/macro';\n\nconst EditButton = styled(Link)`\n  margin-top: 0.5rem;\n  border: 1px solid #216ba5;\n  text-decoration: none;\n  border-radius: 4px;\n  background-color: transparent;\n  cursor: pointer;\n  text-transform: uppercase;\n  font-size: 0.7rem;\n  color: #216ba5;\n  padding: 1px 6px;\n`;\n\n// List of Campgrounds owned by the current user\nconst YourCampgrounds = () => {\n  const user = useContext(UserContext);\n\n  const userId = user && user.id ? user.id : undefined;\n\n  const {loading, error, data} = useData({url: '/api/get_users_campgrounds/' + userId});\n\n  let output;\n  if (loading) {\n    output = <div>Loading...</div>\n  } else if (error !== undefined) {\n    console.error(error);\n    output = null;\n  } else if (data !== undefined) {\n    const campgrounds = data.campgrounds.length ? data.campgrounds.map(({id, name, lat, lng}) => {\n      return (\n        <p key={id}>\n          <small>\n            <Link to={`/campground/${id}`}>{name}</Link>\n            <br />\n            <EditButton to={`/edit-campground/${id}`}>Edit</EditButton>\n          </small>\n        </p>\n      );\n    }) : (\n      <p>You do not own any Campgrounds</p>\n    );\n    output = (\n      <div>\n        {campgrounds}\n      </div>\n    )\n  } else {\n    output = null;\n  }\n\n  return (\n    <StandardPanel>\n      <h3>Your Campgrounds</h3>\n      {output}\n      <EditButton to={'/add-campground'}>Add Campground</EditButton>\n    </StandardPanel>\n  );\n\n}\n\nexport default YourCampgrounds;","import React, { useContext } from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport useData from '../hooks/useData';\nimport axios from 'axios';\nimport StandardPanel from './StandardPanel';\nimport { AppContext } from '../App';\nimport CampgroundForm from './CampgroundForm';\n\n\nconst EditCampground = () => {\n  // Get the id from the url for target campground\n  const {id} = useParams();\n  const history = useHistory();\n  const {refetch} = useContext(AppContext);\n\n  const postFormData = data => {\n    axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/edit_campground',\n      data: {...data, campground_id: id},\n    }).then(res => {\n      if (res && res.data) {\n        history.push('/your-campgrounds');\n        refetch();\n      }\n    }).catch(err => {\n      console.error(err);\n    })\n  }\n\n  const {loading, error, data} = useData({url: '/api/get_campground/' + id});\n\n  let output;\n  if (loading) {\n    output = <div>Loading...</div>\n  } else if (error !== undefined) {\n    console.error(error);\n    output = null;\n  } else if (data !== undefined) {\n    output = (\n      <CampgroundForm\n        postFormData={postFormData}\n        initialData={data.campground}\n        submitButtonText={'Edit Campground'}\n      />\n    );\n  } else {\n    output = null;\n  }\n  return (\n    <StandardPanel>\n      <h3>Edit Campground</h3>\n      {output}\n    </StandardPanel>\n  );\n\n}\n\nexport default EditCampground;","import React, {\n  useEffect,\n  createContext,\n  useState,\n} from 'react';\nimport Nav from './components/Nav';\nimport LoginRegisterForm from './components/LoginRegisterForm';\nimport Map from './components/Map';\nimport CampgroundDetail from './components/CampgroundDetail';\nimport AddCampground from './components/AddCampground';\nimport YourReservations from './components/YourReservations';\nimport YourCampgrounds from './components/YourCampgrounds';\nimport EditCampground from './components/EditCampground';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport axios from 'axios';\nimport useData from './hooks/useData';\nimport noop from 'lodash/noop';\n\n// Set a user context so that the logged in users data\n// may be accessed anywhere in the app\nexport const UserContext = createContext(null);\n\n// Set a date context so that the searched date can\n// be accessed anywhere in the app\nexport const DateContext = createContext(new Date());\n\n// The app context includes the global data for all\n// all campgrounds along with the refetch function,\n// so that any app that needs to modify the data\n// can also call to refetch\nexport const AppContext = createContext({\n  data: undefined,\n  refetch: noop,\n});\n\nconst App = () => {\n  // set the loggedIn state by checking localstorage for\n  // a json webtoken\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem('token') ? true : false);\n  const [user, setUser] = useState(undefined);\n\n  // selectedDate defaults to today\n  const [selectedDate, setSelectedDate] = useState(new Date());\n\n  // call the useData hook. Everytime refetch is called, the data\n  // variable will be updated and any component that references it\n  // will be rerendered\n  const {data, refetch} = useData({url: '/api/get_campgrounds'});\n\n  // if the user is logged in but no user data exists,\n  // call the server for the users data\n  useEffect(() => {\n    if (loggedIn && user === undefined) {\n      axios(process.env.REACT_APP_API_BASE_URL + '/api/current_user/', {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        if (res && res.data && res.data.username) {\n          setUser(res.data);\n        } else {\n          setLoggedIn(false);\n          setUser(undefined);\n        }\n      }).catch(err => {\n        // log the error to the console\n        // but there is no need to display\n        // an error to the user in this scenario\n        console.error(err);\n      })\n    }\n  }, [loggedIn, user]);\n\n  const handleLogin = (e, data) => {\n    e.preventDefault();\n    axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/token-auth/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data\n    }).then(res => {\n      if (res && res.data && res.data.user) {\n        localStorage.setItem('token', res.data.token);\n        setUser(res.data.user);\n        setLoggedIn(true);\n      }\n    }).catch(err => {\n      console.error(err);\n      alert('There was a problem logging you in. Please try again.');\n    })\n  };\n\n  const handleRegister = (e, data) => {\n    e.preventDefault();\n    axios({\n      method: 'post',\n      url: process.env.REACT_APP_API_BASE_URL + '/api/register/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data\n    }).then(res => {\n      if (res && res.data && res.data.username && res.data.id) {\n        localStorage.setItem('token', res.data.token);\n        setUser({username: res.data.username, id: res.data.id});\n        setLoggedIn(true);\n      }\n    }).catch(err => {\n      console.error(err);\n      alert('There was a problem registering. Please try again.');\n    })\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUser(undefined);\n    setLoggedIn(false);\n  };\n\n  // the following routes should only be available to a user who is logged in\n  const loggedInRoutes = user && user.id ? (\n    <>\n      <Route exact path={'/reservations'} component={YourReservations} />\n      <Route exact path={'/your-campgrounds'} component={YourCampgrounds} />\n      <Route exact path={'/add-campground'} component={AddCampground} />\n      <Route exact path={'/edit-campground/:id'} component={EditCampground} />\n    </>\n  ) : null;\n\n  return (\n    <UserContext.Provider value={user}>\n      <AppContext.Provider value={{data, refetch}}>\n        <DateContext.Provider value={{selectedDate, setSelectedDate}}>\n          <Router>\n            <Nav\n              handleLogout={handleLogout}\n            />\n            <Switch>\n              <Route\n                exact path={'/login'} \n                render={(props) => (\n                  <LoginRegisterForm {...props}\n                    onSubmit={handleLogin}\n                    title={'Log In'}\n                    submitButtonText={'Log In'}\n                  />\n                )}\n              />\n              <Route\n                exact path={'/register'} \n                render={(props) => (\n                  <LoginRegisterForm {...props}\n                    onSubmit={handleRegister}\n                    title={'Register'}\n                    submitButtonText={'Create Account'}\n                  />\n                )}\n              />\n              <Route exact path={'/campground/:id'} component={CampgroundDetail} />\n              {loggedInRoutes}\n            </Switch>\n            <Map data={data} />\n          </Router>\n        </DateContext.Provider>\n      </AppContext.Provider>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}